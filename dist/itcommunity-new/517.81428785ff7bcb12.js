"use strict";(self.webpackChunkITCommunity_new=self.webpackChunkITCommunity_new||[]).push([[517],{9517:(U,b,r)=>{r.r(b),r.d(b,{ProfileModule:()=>q});var S=r(4910),Z=r(9182),d=r(8692),e=r(4537),C=r(1283),m=r(5518),p=r(5251),g=r(5568);function _(o,l){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-card-item",5),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("item",t)("isSeries",!0)}}const y=function(o,l,t){return{itemsPerPage:o,currentPage:l,totalItems:t}};let u=(()=>{class o{constructor(t,n){this.seriesService=t,this.activatedRoute=n,this.page=1,this.count=0,this.itemsSize=10,this.tableSizes=[3,6,9,12]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.username=t.username}),this.listenService()}listenService(t=1,n=10,f="desc"){this.seriesService.getSeries(t,n,f,this.username).subscribe(h=>{this.listSeries=h})}onTableDataChange(t){this.page=t,this.listenService(this.page,this.itemsSize)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C._),e.Y36(m.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-series"]],decls:6,vars:8,consts:[[1,"mx-2"],[1,"mt-2"],[4,"ngFor","ngForOf"],[1,"mt-3","d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[3,"item","isSeries"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_,2,2,"div",2),e.ALo(3,"paginate"),e.TgZ(4,"div",3)(5,"pagination-controls",4),e.NdJ("pageChange",function(h){return n.onTableDataChange(h)}),e.qZA()()()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",e.xi3(3,1,null==n.listSeries?null:n.listSeries.items,e.kEZ(4,y,n.itemsSize,n.page,null==n.listSeries?null:n.listSeries.totalItems))))},dependencies:[d.sg,p.o,g.LS,g._s]}),o})();var i=r(3946);function s(o,l){if(1&o&&(e.TgZ(0,"div"),e._UZ(1,"app-card-item",8),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("item",t)}}const a=function(o,l,t){return{itemsPerPage:o,currentPage:l,totalItems:t}};let c=(()=>{class o{constructor(t,n,f){this.activatedRoute=t,this.postsService=n,this.router=f,this.page=1,this.count=0,this.itemsSize=10,this.tableSizes=[3,6,9,12]}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.username=t.username}),this.listenService()}listenService(t=1,n=10,f="desc"){this.postsService.getPosts(t,n,f,this.username).subscribe(h=>{this.listPosts=h})}onTableDataChange(t){this.page=t,this.listenService(this.page,this.itemsSize)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(m.gz),e.Y36(i.P),e.Y36(m.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-posts"]],decls:9,vars:8,consts:[[1,"newest-outer","mx-2"],[1,"option-list-icon-group","d-flex","justify-content-end","w-100"],[1,"fa-solid","fa-list"],[1,"fa-regular","fa-newspaper","ms-3"],[1,"mt-3"],[4,"ngFor","ngForOf"],[1,"mt-3","d-flex","justify-content-end"],["previousLabel","Prev","nextLabel","Next",3,"pageChange"],[3,"item"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2)(3,"i",3),e.qZA(),e.TgZ(4,"div",4),e.YNc(5,s,2,1,"div",5),e.ALo(6,"paginate"),e.TgZ(7,"div",6)(8,"pagination-controls",7),e.NdJ("pageChange",function(h){return n.onTableDataChange(h)}),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("ngForOf",e.xi3(6,1,null==n.listPosts?null:n.listPosts.items,e.kEZ(4,a,n.itemsSize,n.page,null==n.listPosts?null:n.listPosts.totalItems))))},dependencies:[d.sg,p.o,g.LS,g._s]}),o})();var v=r(6956),P=r(5934);let T=(()=>{class o{constructor(t,n){this.localStorageHelperService=t,this.userService=n}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(v.w),e.Y36(P.K))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-info"]],decls:0,vars:0,template:function(t,n){}}),o})();var O=r(9549);let M=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-sidebar"]],decls:47,vars:0,consts:[[1,""],[1,"btn-coppy-link","w-100"],[1,"fa-solid","fa-code"],[1,"summary-info","mt-4"],[1,"p-3"],[1,"d-flex","justify-content-between"],[1,"key"],[1,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",0)(2,"button",1),e._UZ(3,"i",2),e._uU(4," Copy link profile "),e.qZA()(),e.TgZ(5,"div",3)(6,"div",4)(7,"div",5)(8,"p",6),e._uU(9,"Total posts view"),e.qZA(),e.TgZ(10,"p",7),e._uU(11,"0"),e.qZA()(),e.TgZ(12,"div",5)(13,"p",6),e._uU(14,"Following Tags"),e.qZA(),e.TgZ(15,"p",7),e._uU(16,"0"),e.qZA()(),e.TgZ(17,"div",5)(18,"p",6),e._uU(19,"Following Users"),e.qZA(),e.TgZ(20,"p",7),e._uU(21,"0"),e.qZA()(),e.TgZ(22,"div",5)(23,"p",6),e._uU(24,"Followers"),e.qZA(),e.TgZ(25,"p",7),e._uU(26,"0"),e.qZA()(),e.TgZ(27,"div",5)(28,"p",6),e._uU(29,"Total Posts"),e.qZA(),e.TgZ(30,"p",7),e._uU(31,"0"),e.qZA()(),e.TgZ(32,"div",5)(33,"p",6),e._uU(34,"Bookmark"),e.qZA(),e.TgZ(35,"p",7),e._uU(36,"0"),e.qZA()(),e.TgZ(37,"div",5)(38,"p",6),e._uU(39,"Total Series"),e.qZA(),e.TgZ(40,"p",7),e._uU(41,"0"),e.qZA()(),e.TgZ(42,"div",5)(43,"p",6),e._uU(44,"Total Questions"),e.qZA(),e.TgZ(45,"p",7),e._uU(46,"0"),e.qZA()()()()())},styles:[".btn-coppy-link[_ngcontent-%COMP%]{background-color:var(--white);border:2px solid var(--main-color);color:var(--main-color);font-weight:400;font-size:1.2rem;padding:8px 10px}.btn-coppy-link[_ngcontent-%COMP%]:hover{background-color:var(--blue-itc);color:var(--white)}.summary-info[_ngcontent-%COMP%]{border:1px solid var(--gray-light)}.summary-info[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{color:var(--gray-text);font-weight:400;font-size:1rem}.summary-info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--main-color);font-weight:500;font-size:1rem}"]}),o})();function w(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const f=e.oxw();return e.KtG(f.followingMember(f.user))}),e._UZ(1,"i",20),e._uU(2," Follow "),e.qZA()}}function $(o,l){1&o&&(e.TgZ(0,"button",21),e._UZ(1,"i",22),e._uU(2," Following "),e.qZA())}function A(o,l){if(1&o){const t=e.EpF();e.TgZ(0,"li",23),e.NdJ("click",function(){const h=e.CHM(t).$implicit,Y=e.oxw();return e.KtG(Y.itemSelected(h))}),e.TgZ(1,"a",24),e._uU(2),e.qZA()()}if(2&o){const t=l.$implicit;e.ekj("active",t.active),e.s9C("routerLink",null==t?null:t.link),e.xp6(2),e.Oqu(null==t?null:t.name)}}let x=(()=>{class o{constructor(t,n,f,h){this.userService=t,this.router=n,this.notifyService=f,this.localStorageHelperService=h,this.isFollowing=!1,this.currentUser=this.localStorageHelperService.getUser(),this.menuItems=[{name:"Posts",link:`/profile/${this.router.url.split("/")[2]}/posts`,id:"posts",active:!1},{name:"Series",link:`/profile/${this.router.url.split("/")[2]}/series`,id:"series",active:!1},{name:"Questions",link:`/profile/${this.router.url.split("/")[2]}/questions`,id:"questions",active:!1}]}ngOnInit(){this.listenService(),this.activeClass()}activeClass(){const t=this.router.url.split("/")[3];if(void 0===t)return this.menuItems[0].active=!0,void this.router.navigate([this.menuItems[0].link]);this.menuItems.forEach(n=>{n.id===t&&(n.active=!0)})}itemSelected(t){this.menuItems.forEach(n=>{n.active=!1}),t.active=!0}listenService(){this.username=this.router.url.split("/")[2],this.userService.getByUsername(this.username).subscribe(t=>{this.user=t,console.log("this.user",this.user),this.isFollowing=this.user?.followerIds?.some(n=>n===this.currentUser?.id)},t=>{this.router.navigate(["/404"])})}followingMember(t){this.userService.followingMember(t.id,!0).subscribe(n=>{this.isFollowing=!0,this.notifyService.success(`Following ${t?.fullName} successfully!`,"Success")},n=>{this.notifyService.error("Following fails!","Error")})}unfollowingMember(t){this.userService.followingMember(t.id,!1).subscribe(n=>{this.isFollowing=!1,this.notifyService.success(`Unfollowing ${t?.fullName} successfully!`,"Success")},n=>{this.notifyService.error("Unfollowing fails!","Error")})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P.K),e.Y36(m.F0),e.Y36(O.c),e.Y36(v.w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile"]],decls:25,vars:7,consts:[[1,"profile-outer"],[1,"profile-header","container"],[1,"p-4","d-flex","justify-content-between","align-items-center"],[1,"d-flex","align-items-center"],[1,"profile-header-avatar"],["width","140",3,"src"],[1,"profile-header-text","ms-4"],[1,"name"],[1,"username","m-0"],[1,"about","mt-3"],["class","btn-follow",3,"click",4,"ngIf"],["class","btn-following",4,"ngIf"],[1,"menu","d-flex"],[1,"container"],[1,"d-flex","justify-content-start","align-items-center","h-100"],["class","h-100 px-5","id","posts",3,"active","routerLink","click",4,"ngFor","ngForOf"],[1,"container","d-flex","mt-4"],[1,"w-100","w-lg-75"],[1,"w-25","d-none","d-lg-block","mx-2"],[1,"btn-follow",3,"click"],[1,"fa-solid","fa-plus","me-1"],[1,"btn-following"],[1,"fa-solid","fa-check","me-1"],["id","posts",1,"h-100","px-5",3,"routerLink","click"],[1,"my-auto"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._UZ(5,"img",5),e.qZA(),e.TgZ(6,"div",6)(7,"p",7),e._uU(8),e.qZA(),e.TgZ(9,"p",8),e._uU(10),e.qZA(),e.TgZ(11,"p",9),e._uU(12),e.qZA()()(),e.TgZ(13,"div"),e.YNc(14,w,3,0,"button",10),e.YNc(15,$,3,0,"button",11),e.qZA()()(),e.TgZ(16,"menu",12)(17,"div",13)(18,"ul",14),e.YNc(19,A,3,4,"li",15),e.qZA()()(),e.TgZ(20,"div",16)(21,"div",17),e._UZ(22,"router-outlet"),e.qZA(),e.TgZ(23,"div",18),e._UZ(24,"app-profile-sidebar"),e.qZA()()()),2&t&&(e.xp6(5),e.s9C("src",null==n.user?null:n.user.avatar,e.LSH),e.xp6(3),e.Oqu(null==n.user?null:n.user.fullName),e.xp6(2),e.hij("@",null==n.user?null:n.user.username,""),e.xp6(2),e.hij(' "',null==n.user?null:n.user.about,'" '),e.xp6(2),e.Q6J("ngIf",!n.isFollowing),e.xp6(1),e.Q6J("ngIf",n.isFollowing),e.xp6(4),e.Q6J("ngForOf",n.menuItems))},dependencies:[d.sg,d.O5,m.lC,m.rH,M],styles:[".profile-header[_ngcontent-%COMP%]   .profile-header-text[_ngcontent-%COMP%]{color:var(--gray-text);font-weight:400!important;font-size:1.2rem!important}.profile-header[_ngcontent-%COMP%]   .profile-header-text[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:500!important;color:var(--main-color);font-size:1.5rem}.profile-header[_ngcontent-%COMP%]   .profile-header-text[_ngcontent-%COMP%]   .about[_ngcontent-%COMP%]{font-size:.9rem;margin-top:10px;font-weight:400;font-style:italic}.menu[_ngcontent-%COMP%]{height:50px;background-color:var(--main-color);box-shadow:#64646f33 0 7px 29px}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--white);font-weight:400;font-size:1rem;line-height:50px}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:var(--white)}.menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:var(--main-color)}.active[_ngcontent-%COMP%]{background-color:var(--white)}.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--main-color)!important}.btn-follow[_ngcontent-%COMP%]{background-color:var(--main-color);color:var(--white);border:1px solid var(--main-color);border-radius:5px;padding:5px 10px;font-size:.8rem;font-weight:500;margin-left:10px;cursor:pointer}.btn-follow[_ngcontent-%COMP%]:hover{background-color:var(--white);color:var(--main-color)}.btn-following[_ngcontent-%COMP%]{background-color:var(--white);color:var(--main-color);border:1px solid var(--main-color);border-radius:5px;padding:5px 10px;font-size:.8rem;font-weight:500;margin-left:10px;cursor:pointer}.btn-following[_ngcontent-%COMP%]:hover{background-color:var(--main-color);color:var(--white)}"]}),o})();var F=r(9730),E=r(1901),I=r(901);function Q(o,l){if(1&o&&(e.TgZ(0,"div",2),e._UZ(1,"app-question-card",3),e.qZA()),2&o){const t=l.$implicit;e.xp6(1),e.Q6J("question",t)}}const L=[{path:"",component:x,children:[{path:"",redirectTo:":username/posts",pathMatch:"full"},{path:":username",component:T},{path:":username/posts",component:c},{path:":username/series",component:u},{path:":username/questions",component:(()=>{class o{constructor(t,n,f){this.questionAnswerService=t,this.authService=n,this.activatedRoute=f,this.isLogin=!1,this.page=1,this.count=0,this.itemsSize=10,this.tableSizes=[3,6,9,12]}ngOnInit(){this.isLogin=this.authService.checkLogin(),this.activatedRoute.params.subscribe(t=>{this.username=t.username,console.log("this.username",this.username),this.listenService()})}listenService(t=1,n=10,f="desc"){this.questionAnswerService.getQuestion(t,n,f,this.username).subscribe(h=>{this.listQuestions=h,console.log("this.listQuestions",this.listQuestions)})}onTableDataChange(t){this.page=t,this.listenService(this.page,this.itemsSize)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.t),e.Y36(E.e),e.Y36(m.gz))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-profile-questions"]],decls:2,vars:1,consts:[[1,"mx-2"],["class","mt-5",4,"ngFor","ngForOf"],[1,"mt-5"],[3,"question"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Q,2,1,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",null==n.listQuestions?null:n.listQuestions.items))},dependencies:[d.sg,I.n]}),o})()}]}];let z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[m.Bz.forChild(L),m.Bz]}),o})();var B=r(92),D=r(9638),k=r(3331);let q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[d.ez,z,Z.B,S.aw,B.UX,D.ot,k.Ps,g.JX]}),o})()},3946:(U,b,r)=>{r.d(b,{P:()=>_});var S=r(2340),Z=r(9413),d=r(5732),e=r(7969),C=r(4537),m=r(2389);const p=S.N.apiUrl,g=Z.H.posts;let _=(()=>{class y{constructor(i){this.apiService=i}createPosts(i){return this.apiService.post(`${p}/${g.posts}`,i).pipe((0,e.U)(a=>a.body||{}))}getPosts(i,s,a,c){const v=`${p}/${g.posts}?page=${i}&perPage=${s}`+(c?`&username=${c}`:""),P=new d.LE;return i&&P.set("page",i.toString()),s&&P.set("perPage",s.toString()),this.apiService.get(v).pipe((0,e.U)(T=>T.body.data||{}))}getPostsByUserFollow(i,s,a,c){return this.apiService.get(`${p}/${g.postsByUserFollow}?page=${i}&perPage=${s}`+(c?`&username=${c}`:"")).pipe((0,e.U)(P=>P.body.data||{}))}getPostsBySeries(i){return this.apiService.get(`${p}/${g.postsBySeries}/${i}`).pipe((0,e.U)(a=>a.body.data||{}))}getPostsById(i){return this.apiService.get(`${p}/${g.posts}/${i}`).pipe((0,e.U)(a=>a.body.data||{}))}updatePosts(i,s){return this.apiService.put(`${p}/${g.posts}/${i}`,s).pipe((0,e.U)(c=>c.body||{}))}deletePosts(i){return this.apiService.delete(`${p}/${g.posts}/${i}`).pipe((0,e.U)(a=>a.body||{}))}updateView(i){return this.apiService.patch(`${p}/${g.view}`,{postId:i}).pipe((0,e.U)(a=>a.body||{}))}bookmarkPosts(i,s){return this.apiService.post(`${p}/${g.bookmark}`,{postsId:i,bookmark:s}).pipe((0,e.U)(c=>c.body||{}))}getPostsByBookmark(i,s,a){return this.apiService.get(`${p}/${g.getBookmarks}?page=${i}&perPage=${s}`).pipe((0,e.U)(v=>v.body.data||{}))}}return y.\u0275fac=function(i){return new(i||y)(C.LFG(m.s))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},9730:(U,b,r)=>{r.d(b,{t:()=>g});var S=r(2340),Z=r(9413),d=r(7969),e=r(4537),C=r(2389);const m=S.N.apiUrl,p=Z.H.qa;let g=(()=>{class _{constructor(u){this.apiService=u}createQuestion(u){return this.apiService.post(`${m}/${p.question}`,u).pipe((0,d.U)(s=>s.body||{}))}getQuestion(u,i,s,a){return this.apiService.get(`${m}/${p.question}?page=${u}&perPage=${i}`+(a?`&username=${a}`:"")).pipe((0,d.U)(v=>v.body.data||{}))}createAnswer(u){return this.apiService.post(`${m}/${p.answer}`,u).pipe((0,d.U)(s=>s.body||{}))}getAnswer(u,i,s,a,c){return this.apiService.get(`${m}/${p.question}/${u}/answer?page=${i}&perPage=${s}`+(c?`&username=${c}`:"")).pipe((0,d.U)(P=>P.body.data||{}))}getQuestionsById(u){return this.apiService.get(`${m}/${p.question}/${u}`).pipe((0,d.U)(s=>s.body.data||{}))}updateQuestion(u,i){return this.apiService.put(`${m}/${p.question}/${u}`,i).pipe((0,d.U)(a=>a.body||{}))}updateAnswer(u,i){return this.apiService.put(`${m}/${p.answer}/${u}`,i).pipe((0,d.U)(a=>a.body||{}))}approvedAnswer(u,i){return this.apiService.patch(`${m}/${p.answer}/${u}`,{approved:i}).pipe((0,d.U)(a=>a.body||{}))}}return _.\u0275fac=function(u){return new(u||_)(e.LFG(C.s))},_.\u0275prov=e.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);